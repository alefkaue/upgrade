<div class="max-w-2xl">
    <div class="bg-white border border-gray-200 rounded-lg p-6 mb-6">
        <h2 class="text-lg font-bold mb-4">Configurar Perfil Financeiro</h2>
        <p class="text-sm text-gray-500 mb-6">Configure seus dados financeiros para receber recomendacoes personalizadas.</p>
        
        <form method="POST" action="{% url 'update_profile' %}">
            {% csrf_token %}
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Renda Mensal (R$)</label>
                    <input type="number" name="monthly_income" step="0.01" 
                           value="{{ user.monthly_income }}"
                           class="w-full px-4 py-2 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-black"
                           placeholder="5000.00">
                    <p class="text-xs text-gray-500 mt-1">Sua renda mensal liquida.</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Gastos Fixos (R$)</label>
                    <input type="number" name="fixed_expenses" step="0.01"
                           value="{{ user.fixed_expenses }}"
                           class="w-full px-4 py-2 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-black"
                           placeholder="2500.00">
                    <p class="text-xs text-gray-500 mt-1">Aluguel, contas, alimentacao, transporte, etc.</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Margem de Seguranca (%)</label>
                    <input type="number" name="safety_margin" step="0.01" min="0" max="50"
                           value="{{ user.safety_margin }}"
                           class="w-full px-4 py-2 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-black"
                           placeholder="10">
                    <p class="text-xs text-gray-500 mt-1">Reserva para emergencias (recomendado: 10%).</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Orcamento Mensal (R$)</label>
                    <input type="number" name="monthly_budget" step="0.01"
                           value="{{ user.monthly_budget }}"
                           class="w-full px-4 py-2 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-black"
                           placeholder="1000.00">
                    <p class="text-xs text-gray-500 mt-1">Limite maximo para parcelas mensais.</p>
                </div>
            </div>
            
            <div class="mt-6 flex justify-end">
                <button type="submit" class="px-6 py-2 bg-black text-white rounded-md hover:bg-gray-800">
                    Salvar Alteracoes
                </button>
            </div>
        </form>
    </div>
    
    <div class="bg-white border border-gray-200 rounded-lg p-6">
        <h2 class="text-lg font-bold mb-4">Informacoes da Conta</h2>
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Usuario</label>
                <p class="text-gray-900">{{ user.username }}</p>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <p class="text-gray-900">{{ user.email|default:"Nao informado" }}</p>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Tipo de Conta</label>
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium {% if user.is_admin_user %}bg-purple-100 text-purple-800{% elif user.is_partner %}bg-green-100 text-green-800{% else %}bg-gray-100 text-gray-800{% endif %}">
                    {{ user.get_role_display }}
                </span>
            </div>
            {% if user.corporate_id %}
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">ID Corporativo</label>
                <p class="text-gray-900">{{ user.corporate_id }}</p>
            </div>
            {% endif %}
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Membro desde</label>
                <p class="text-gray-900">{{ user.created_at|date:"d/m/Y" }}</p>
            </div>
        </div>
    </div>
</div>
